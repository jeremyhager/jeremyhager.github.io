(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{134:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var a=n(0),r=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=r.a.createContext({}),b=function(e){var t=r.a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},s=function(e){var t=b(e.components);return r.a.createElement(d.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,i=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),s=b(n),m=a,u=s["".concat(i,".").concat(m)]||s[m]||p[m]||l;return n?r.a.createElement(u,c(c({ref:t},d),{},{components:n})):r.a.createElement(u,c({ref:t},d))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=m;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var d=2;d<l;d++)i[d]=n[d];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},68:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return o})),n.d(t,"default",(function(){return b}));var a=n(2),r=n(6),l=(n(0),n(134)),i={id:"dns-dhcp",title:"dns-dhcp configuration",sidebar_label:"dns-dhcp Configuration"},c={unversionedId:"dns-dhcp",id:"dns-dhcp",isDocsHomePage:!1,title:"dns-dhcp configuration",description:"Hardware Info",source:"@site/docs/dns-dhcp.md",slug:"/dns-dhcp",permalink:"/docs/dns-dhcp",editUrl:"https://github.com/jeremyhager/yugawa-website/edit/master/docs/dns-dhcp.md",version:"current",sidebar_label:"dns-dhcp Configuration",sidebar:"docs",previous:{title:"Foreman Configuration",permalink:"/docs/foreman"},next:{title:"Ldap servers",permalink:"/docs/ldap1-ldap2"}},o=[{value:"Hardware Info",id:"hardware-info",children:[]},{value:"OS Info",id:"os-info",children:[]},{value:"Package Info",id:"package-info",children:[]},{value:"Snapshot info",id:"snapshot-info",children:[]},{value:"DNS Configuration",id:"dns-configuration",children:[{value:"/etc/named.conf",id:"etcnamedconf",children:[]},{value:"named.conf.local",id:"namedconflocal",children:[]},{value:"zones/internal.virtnet forward lookup zone",id:"zonesinternalvirtnet-forward-lookup-zone",children:[]},{value:"zones/16.172.rev reverse lookup zone",id:"zones16172rev-reverse-lookup-zone",children:[]}]},{value:"DHCP Configuration",id:"dhcp-configuration",children:[]},{value:"Other configurations",id:"other-configurations",children:[]}],d={rightToc:o};function b(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"hardware-info"},"Hardware Info"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Asset"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Capacity"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"CPU"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"2")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"RAM"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"2048 (MiB)")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"vda"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"12GB")))),Object(l.b)("h2",{id:"os-info"},"OS Info"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Name"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Spec"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Hostname"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"dns-dhcp.internal.virtnet")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"IP Address"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"172.16.0.8/24")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Kernel"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"3.10.0-1062.el7.x86_64")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Release"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"CentOS Linux release 7.8.2003 (Core)")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Firewall services"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"dhcpv6-client dns ssh")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Interfaces"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"eth0")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Automatic updates"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"False")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Last updated"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"2020-09-13")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Users"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"jeremy, root (disabled)")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Snapshot"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1600037836 (dns installed and configured)")))),Object(l.b)("h2",{id:"package-info"},"Package Info"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Name"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Spec"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"bind"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"bind.x86_64 32:9.11.4-16.P2.el7_8.6")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"bind-utils"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"bind-utils.x86_64 32:9.11.4-16.P2.el7_8.6")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"dhcp"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"12:4.2.5-79.el7.centos")))),Object(l.b)("h2",{id:"snapshot-info"},"Snapshot info"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Name"),Object(l.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1608682843"),Object(l.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Post ldap enrollment")))),Object(l.b)("h2",{id:"dns-configuration"},"DNS Configuration"),Object(l.b)("h3",{id:"etcnamedconf"},"/etc/named.conf"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-clike",metastring:'title="/etc/named.conf"',title:'"/etc/named.conf"'}),'acl "trusted" {\n    localnets;\n};\n')),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-clike",metastring:'title="/etc/named.conf"',title:'"/etc/named.conf"'}),"options {\n    listen-on port 53 { 127.0.0.1; 172.16.0.8;};\n    //...\n    allow-query     { trusted; };\n    //...\n}\n")),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-clike",metastring:'title="/etc/named.conf"',title:'"/etc/named.conf"'}),'//...\ninclude "named.conf.local";\n')),Object(l.b)("h3",{id:"namedconflocal"},"named.conf.local"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-clike",metastring:'title="/var/named/named.conf.local"',title:'"/var/named/named.conf.local"'}),'zone "internal.virtnet" {\n    type master;\n    file "zones/internal.virtnet"; //relative zone file path\n};\n\nzone "16.172.in-addr.arpa" {\n    type master;\n    file "zones/16.172.rev";  //relative reverse zone file path for 172.16.0.0/16 subnet\n};\n')),Object(l.b)("h3",{id:"zonesinternalvirtnet-forward-lookup-zone"},"zones/internal.virtnet forward lookup zone"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-clike",metastring:'title="/var/named/zones/internal.virtnet"',title:'"/var/named/zones/internal.virtnet"'}),"$TTL    604800\n@       IN      SOA     dns-dhcp.internal.virtnet. admin.internal.virtnet. (\n            2020121815  ; Serial\n            604800      ; Refresh\n            86400       ; Retry\n            2419200     ; Expire\n            604800 )    ; Negative Cache TTL\n; name servers - NS records\n    IN      NS      dns-dhcp.internal.virtnet.\n; name servers - A records\ndns-dhcp.internal.virtnet.      IN      A       172.16.0.8\n\n; 172.16.0.0/16 - A records\nforeman.internal.virtnet.       IN      A       172.16.0.10\nldap1.internal.virtnet.         IN      A       172.16.0.11\nldap2.internal.virtnet.         IN      A       172.16.0.12\npostgresql1.internal.virtnet.   IN      A       172.16.0.13\npostgresql2.internal.virtnet.   IN      A       172.16.0.14\niscsitgt-nfs.internal.virtnet.  IN      A       172.16.0.15\nbacula.internal.virtnet.        IN      A       172.16.0.16\nhttpd1.internal.virtnet.        IN      A       172.16.0.17\nhttpd2.internal.virtnet.        IN      A       172.16.0.18\ntomcat1.internal.virtnet.       IN      A       172.16.0.19\ntomcat2.internal.virtnet.       IN      A       172.16.0.20\niptables.internal.virtnet.      IN      A       172.16.0.21\npostfix.internal.virtnet.       IN      A       172.16.0.22\nnagios.internal.virtnet.        IN      A       172.16.0.23\nsyslog.internal.virtnet.        IN      A       172.16.0.24\n")),Object(l.b)("h3",{id:"zones16172rev-reverse-lookup-zone"},"zones/16.172.rev reverse lookup zone"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-clike",metastring:'title="/var/named/zones/16.172.rev"',title:'"/var/named/zones/16.172.rev"'}),"$TTL    604800\n@       IN      SOA     internal.virtnet. admin.internal.virtnet. (\n                        2020121815  ; Serial\n                        604800      ; Refresh\n                        86400       ; Retry\n                        2419200     ; Expire\n                    604800 )        ; Negative Cache TTL\n; name servers\n        IN      NS      dns-dhcp.internal.virtnet.\n\n; PTR Records\n8.0     IN      PTR     dns-dhcp.internal.virtnet.      ; 172.16.0.8\n10.0    IN      PTR     foreman.internal.virtnet.       ; 172.16.0.10\n11.0    IN      PTR     ldap1.internal.virtnet.         ; 172.16.0.11\n12.0    IN      PTR     ldap2.internal.virtnet.         ; 172.16.0.12\n13.0    IN      PTR     postgresql1.internal.virtnet.   ; 172.16.0.13\n14.0    IN      PTR     postgresql2.internal.virtnet.   ; 172.16.0.14\n15.0    IN      PTR     iscsitgt-nfs.internal.virtnet.  ; 172.16.0.15\n16.0    IN      PTR     bacula.internal.virtnet.        ; 172.16.0.16\n17.0    IN      PTR     httpd1.internal.virtnet.        ; 172.16.0.17\n18.0    IN      PTR     httpd2.internal.virtnet.        ; 172.16.0.18\n19.0    IN      PTR     tomcat1.internal.virtnet.       ; 172.16.0.19\n20.0    IN      PTR     tomcat2.internal.virtnet.       ; 172.16.0.20\n21.0    IN      PTR     iptables.internal.virtnet.      ; 172.16.0.21\n22.0    IN      PTR     postfix.internal.virtnet.       ; 172.16.0.22\n23.0    IN      PTR     nagios.internal.virtnet.        ; 172.16.0.23\n24.0    IN      PTR     syslog.internal.virtnet.        ; 172.16.0.24\n")),Object(l.b)("h2",{id:"dhcp-configuration"},"DHCP Configuration"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-clike",metastring:'title="/etc/dhcp/dhcpd.conf"',title:'"/etc/dhcp/dhcpd.conf"'}),'#\n# DHCP Server Configuration file.\n#   see /usr/share/doc/dhcp*/dhcpd.conf.example\n#   see dhcpd.conf(5) man page\n#\noption domain-name "internal.virtnet"; #default domain\n#option domain-name-servers 172.16.0.8; #dns server(s)\n#option subnet-mask 255.255.0.0; #subnet mask for the subnet\ndefault-lease-time 14400; #lease of 14400 seconds, or 4 hours\nmax-lease-time 28800; #max lease of 8 hours\nallow bootp; #allow clients to run a pxe boot\n\n#if the client is PXE, sent it to the .10 server and ask for the "pxelinux.0" file\nclass "pxeClients" {\n    match if substring(option vendor-class-identifier, 0,9) = "PXEClient";\n    next-server 172.16.0.10;\n    filename "pxelinux.0";\n}\n\n#subnet for the 172.16.0.0/16 network\nsubnet 172.16.0.0 netmask 255.255.0.0 {\n    pool {\n        range 172.16.1.0 172.16.1.255; #dhcp lease range\n        option broadcast-address 172.16.255.255; #network broadcast address\n        option routers 172.16.0.2; #router or gateway configuration\n        option domain-name-servers 172.16.0.8;\n        #option dynamic-bootp 172.16.1.0 172.16.1.16;\n        #bootp or pxe clients will use the addresses 1.0 to 1.24\n        allow unknown-clients; #allow unknown clients\n        #allow any; #only any member on the network\n        default-lease-time 14400;\n        max-lease-time 28800;\n        next-server 172.16.0.10;\n        filename "pxelinux.0";\n    }\n}\n\n#Static IP assignments\nhost ldap1 {\n    hardware ethernet 52:54:00:00:00:11;\n    fixed-address 172.16.0.11;\n}\nhost ldap2 {\n    hardware ethernet 52:54:00:00:00:12;\n    fixed-address 172.16.0.12;\n}\nhost postgresql1 {\n    hardware ethernet 52:54:00:00:00:13;\n    fixed-address 172.16.0.13;\n}\nhost postgresql2 {\n    hardware ethernet 52:54:00:00:00:14;\n    fixed-address 172.16.0.14;\n}\nhost iscsitgt-nfs {\n    hardware ethernet 52:54:00:00:00:15;\n    fixed-address 172.16.0.15;\n}\nhost bacula {\n    hardware ethernet 52:54:00:00:00:16;\n    fixed-address 172.16.0.16;\n}\nhost httpd1 {\n    hardware ethernet 52:54:00:00:00:17;\n    fixed-address 172.16.0.17;\n}\nhost httpd2 {\n    hardware ethernet 52:54:00:00:00:18;\n    fixed-address 172.16.0.18;\n}\nhost tomcat1 {\n    hardware ethernet 52:54:00:00:00:19;\n    fixed-address 172.16.0.19;\n}\nhost tomcat2 {\n    hardware ethernet 52:54:00:00:00:20;\n    fixed-address 172.16.0.20;\n}\nhost iptables {\n    hardware ethernet 52:54:00:00:00:21;\n    fixed-address 172.16.0.21;\n}\nhost postfix {\n    hardware ethernet 52:54:00:00:00:22;\n    fixed-address 172.16.0.22;\n}\nhost nagios {\n    hardware ethernet 52:54:00:00:00:23;\n    fixed-address 172.16.0.23;\n}\nhost syslog {\n    hardware ethernet 52:54:00:00:00:24;\n    fixed-address 172.16.0.24;\n}\n')),Object(l.b)("h2",{id:"other-configurations"},"Other configurations"),Object(l.b)("pre",null,Object(l.b)("code",Object(a.a)({parentName:"pre"},{className:"language-text",metastring:'title="/etc/sysconfig/network-scripts/ifcfg-eth0"',title:'"/etc/sysconfig/network-scripts/ifcfg-eth0"'}),'DEVICE=eth0\nHWADDR=52:54:00:01:49:44\nBOOTPROTO=static\nONBOOT="yes"\nIPADDR=172.16.0.8\nNETMASK=255.255.0.0\nNETWORK=172.16.0.0\nBROADCAST=172.16.255.255\nDNS1=127.0.0.1\nGATEWAY=172.16.0.2\n')))}b.isMDXComponent=!0}}]);